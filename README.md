# @9exam_bot — Telegram-бот для проверки и тренировки английских писем

## Описание

**@9exam_bot** — это Telegram-бот, который:
- Проверяет письма на английском языке по критериям ОГЭ (K1–K4)
- Автоматически собирает слова с ошибками и формирует персональный словарь пользователя
- Позволяет тренировать слова из словаря с помощью встроенного тренажёра

---

## Возможности

- **Проверка письма**: отправьте письмо боту, и получите подробную обратную связь по каждому критерию.
- **Словарь ошибок**: все слова с ошибками автоматически сохраняются в ваш личный словарь.
- **Тренажёр**: тренируйте слова из словаря — бот показывает перевод, вы вводите английский вариант, бот проверяет ответ.
- **Управление через команды и кнопки**: можно пользоваться как командами, так и встроенными кнопками.

---

## Быстрый старт

### 1. Клонируйте репозиторий

```bash
git clone <ваш-репозиторий>
cd <ваш-репозиторий>
```

### 2. Настройте переменные окружения

Создайте файл `.env` в корне проекта и заполните его:

TELEGRAM_TOKEN=ваш_токен_бота
OPENROUTER_API_KEY=ваш_ключ_OpenRouter
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=writing_db
MODEL_NAME=qwen/qwen3-14b:free

### 3. Запустите проект через Docker Compose

```bash
docker-compose up --build
```

Бот автоматически подключится к базе данных и будет готов к работе.

---

## Структура проекта

- `telegram_bot.py` — основной файл Telegram-бота
- `llm_client.py` — взаимодействие с LLM (OpenRouter), логика проверки письма
- `database.py` — работа с PostgreSQL (пользователи, письма, словарь)
- `trainer.py` — тренажёр для повторения слов
- `config.py` — загрузка переменных окружения
- `init_db.sql` — SQL-скрипт для инициализации базы данных
- `Dockerfile`, `docker-compose.yml` — контейнеризация и запуск

---

## Основные команды бота

- `/start` — начать работу с ботом
- `/vocabulary` — показать ваш словарь ошибок
- `/train` — запустить тренажёр для повторения слов
- `/cancel` — отменить текущую тренировку

Также доступны кнопки для быстрого доступа к словарю и тренажёру.

---

## Как работает тренажёр

1. Введите `/train` или нажмите кнопку "Начать тренировку" в словаре.
2. Бот покажет перевод слова на русском.
3. Введите правильный английский вариант.
4. Бот проверит ваш ответ и покажет результат (галочка или крестик).
5. В конце тренировки бот покажет статистику.

---

## Разработка и поддержка

- Для локального запуска убедитесь, что у вас установлен Docker и Docker Compose.
- Все зависимости указаны в `requirements.txt`.
- Для добавления новых функций редактируйте соответствующие файлы (`llm_client.py`, `trainer.py` и т.д.).

---

## Пример использования

1. Отправьте письмо на английском — получите разбор по критериям.
2. Посмотрите свой словарь ошибок через `/vocabulary`.
3. Запустите тренировку `/train` и повторяйте слова до автоматизма!

---


---

**Если возникли вопросы — создайте issue или напишите разработчику!**
